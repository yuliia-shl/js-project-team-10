{"version":3,"file":"index.js","sources":["../src/js/work-together.js","../src/js/menu.js","../src/main.js"],"sourcesContent":["export const form = document.getElementById('contactForm');\nexport const emailInput = document.getElementById('email');\nexport const errorMessage = document.querySelector('.error-message');\n\n// Відправка форми та обробка відповіді сервера\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const formData = {\n    email: document.getElementById('email').value,\n    comment: document.getElementById('message').value,\n  };\n\n  fetch('https://portfolio-js.b.goit.study/api/requests', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(formData),\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.title && data.message) {\n        document.querySelector('#successPopup h3').textContent = data.title;\n        document.querySelector('#successPopup p').textContent = data.message;\n        document.getElementById('successPopup').style.display = 'flex';\n        form.reset(); // Очищення форми при успішній відправці\n      } else {\n        document.getElementById('errorPopup').style.display = 'flex';\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      document.getElementById('errorPopup').style.display = 'flex';\n      // Підтримка введених даних при невдалій відправці\n      document.getElementById('email').value = formData.email;\n      document.getElementById('message').value = formData.comment;\n    });\n});\n\n// Закриття попап-вікон\ndocument.querySelectorAll('.close-btn').forEach(button => {\n  button.addEventListener('click', function () {\n    button.closest('.popup').style.display = 'none';\n  });\n});\n\n// Закриття попап-вікна при натисканні поза його межами\ndocument.querySelectorAll('.popup').forEach(popup => {\n  popup.addEventListener('click', function (event) {\n    if (event.target === popup) {\n      popup.style.display = 'none';\n    }\n  });\n});\n\n// Закриття попап-вікна при натисканні Esc\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    document.querySelectorAll('.popup').forEach(popup => {\n      popup.style.display = 'none';\n    });\n  }\n});\n\n/* =====   invalid   ===== */\nemailInput.addEventListener('input', function () {\n  if (emailInput.validity.valid) {\n    errorMessage.style.display = 'none';\n  } else {\n    errorMessage.style.display = 'block';\n  }\n});\n\n/*\n\n// Елементи для відкриття та закриття модального меню\nconst menuToggle = document.getElementById('menuToggle');\nconst modalMenu = document.getElementById('modalMenu');\nconst closeMenu = document.getElementById('closeMenu');\n\n// Відкриття меню при натисканні на кнопку гамбургер-меню\nmenuToggle.addEventListener('click', () => {\n  modalMenu.classList.add('active');\n});\n\n// Закриття меню при натисканні на хрестик\ncloseMenu.addEventListener('click', () => {\n  modalMenu.classList.remove('active');\n});\n\n// Закриття меню при натисканні поза межами меню\nmodalMenu.addEventListener('click', event => {\n  if (event.target === modalMenu) {\n    modalMenu.classList.remove('active');\n  }\n});\n            */\n","export const initHeader = () => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  const toggleMenu = () => {\n    const anchors = mobileMenu.querySelectorAll('a[href*=\"#\"]');\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n    if (anchors.length === 0) return;\n    if (!isMenuOpen) {\n      anchors.forEach(anchor => {\n        anchor.addEventListener('click', toggleMenu);\n      });\n      return;\n    }\n    anchors.forEach(anchor => {\n      anchor.removeEventListener('click', toggleMenu);\n    });\n  };\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n  window.matchMedia('(min-width: 375px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n  document.querySelectorAll('a[href^=\"#\"').forEach(link => {\n    link.addEventListener('click', function (e) {\n      e.preventDefault();\n      let href = this.getAttribute('href').substring(1);\n      const scrollTarget = document.getElementById(href);\n      const topOffset =\n        document.querySelector('.header-navigation').offsetHeight;\n      const elementPosition = scrollTarget.getBoundingClientRect().top;\n      const offsetPosition = elementPosition - topOffset;\n      window.scrollBy({\n        top: offsetPosition,\n        behavior: 'smooth',\n      });\n    });\n  });\n\n  // Theme\n  const themeToggle = document.getElementById('switch');\n\n  themeToggle.addEventListener('change', () => {\n    document.body.classList.toggle('dark-theme');\n\n    if (document.body.classList.contains('dark-theme')) {\n      localStorage.setItem('theme', 'dark');\n    } else {\n      localStorage.setItem('theme', 'light');\n    }\n  });\n\n  window.addEventListener('load', () => {\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      document.body.classList.add('dark-theme');\n      themeToggle.checked = true;\n    }\n  });\n\n  // let checkbox = document.querySelector('#switch');\n  // let body = document.querySelector('body');\n  // let localStorageTheme = localStorage.getItem('theme');\n  // const setThemeColor = () => {\n  //   localStorageTheme === 'dark' ? setDarkMode() : setLightMode();\n  // };\n  // const checkModeSeting = () => {\n  //   window\n  //     .matchMedia('(prefers-color-scheme: dark')\n  //     .addEventListener('change', () => {\n  //       checkThemeChange();\n  //     });\n  // };\n  // const checkThemeChange = () => {\n  //   if (\n  //     localStorageTheme == null &&\n  //     window.matchMedia('(prefers-color-scheme: dark').matches\n  //   ) {\n  //     setDarkMode();\n  //   } else if (\n  //     localStorageTheme &&\n  //     window.matchMedia('(prefers-color-scheme: dark').matches\n  //   ) {\n  //     setDarkMode();\n  //   } else {\n  //     setLightMode();\n  //   }\n  // };\n  // const setDarkMode = () => {\n  //   body.classList = 'dark';\n  //   localStorage.setItem('theme', 'dark');\n  //   checkbox.checked = true;\n  // };\n  // const setLightMode = () => {\n  //   body.classList = 'light';\n  //   localStorage.setItem('theme', 'light');\n  //   checkbox.checked = false;\n  // };\n  // checkModeSeting();\n  // checkThemeChange();\n  // setThemeColor();\n  // checkbox.addEventListener('click', () =>\n  //   checkbox.checked ? setDarkMode() : setLightMode()\n  // );\n};\n","import { form, emailInput, errorMessage } from './js/work-together';\n// import { form } from './js/work-together';\n// import { themeToggle } from './js/toogle';\n\nimport { initHeader } from './js/menu.js';\ninitHeader();\n"],"names":["form","emailInput","errorMessage","event","formData","response","data","error","button","popup","initHeader","mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","anchors","isMenuOpen","anchor","link","e","href","scrollTarget","topOffset","offsetPosition","themeToggle"],"mappings":"ssBAAO,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAe,SAAS,cAAc,gBAAgB,EAGnEF,EAAK,iBAAiB,SAAU,SAAUG,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAW,CACf,MAAO,SAAS,eAAe,OAAO,EAAE,MACxC,QAAS,SAAS,eAAe,SAAS,EAAE,KAChD,EAEE,MAAM,iDAAkD,CACtD,OAAQ,OACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAUA,CAAQ,CACjC,CAAG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,OAASA,EAAK,SACrB,SAAS,cAAc,kBAAkB,EAAE,YAAcA,EAAK,MAC9D,SAAS,cAAc,iBAAiB,EAAE,YAAcA,EAAK,QAC7D,SAAS,eAAe,cAAc,EAAE,MAAM,QAAU,OACxDN,EAAK,MAAK,GAEV,SAAS,eAAe,YAAY,EAAE,MAAM,QAAU,MAE9D,CAAK,EACA,MAAMO,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7B,SAAS,eAAe,YAAY,EAAE,MAAM,QAAU,OAEtD,SAAS,eAAe,OAAO,EAAE,MAAQH,EAAS,MAClD,SAAS,eAAe,SAAS,EAAE,MAAQA,EAAS,OAC1D,CAAK,CACL,CAAC,EAGD,SAAS,iBAAiB,YAAY,EAAE,QAAQI,GAAU,CACxDA,EAAO,iBAAiB,QAAS,UAAY,CAC3CA,EAAO,QAAQ,QAAQ,EAAE,MAAM,QAAU,MAC7C,CAAG,CACH,CAAC,EAGD,SAAS,iBAAiB,QAAQ,EAAE,QAAQC,GAAS,CACnDA,EAAM,iBAAiB,QAAS,SAAUN,EAAO,CAC3CA,EAAM,SAAWM,IACnBA,EAAM,MAAM,QAAU,OAE5B,CAAG,CACH,CAAC,EAGD,SAAS,iBAAiB,UAAW,SAAUN,EAAO,CAChDA,EAAM,MAAQ,UAChB,SAAS,iBAAiB,QAAQ,EAAE,QAAQM,GAAS,CACnDA,EAAM,MAAM,QAAU,MAC5B,CAAK,CAEL,CAAC,EAGDR,EAAW,iBAAiB,QAAS,UAAY,CAC3CA,EAAW,SAAS,MACtBC,EAAa,MAAM,QAAU,OAE7BA,EAAa,MAAM,QAAU,OAEjC,CAAC,EC7EM,MAAMQ,EAAa,IAAM,CAC9B,MAAMC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAa,IAAM,CACvB,MAAMC,EAAUJ,EAAW,iBAAiB,cAAc,EACpDK,EACJJ,EAAY,aAAa,eAAe,IAAM,QAAU,GAG1D,GAFAA,EAAY,aAAa,gBAAiB,CAACI,CAAU,EACrDL,EAAW,UAAU,OAAO,SAAS,EACjCI,EAAQ,SAAW,EACvB,IAAI,CAACC,EAAY,CACfD,EAAQ,QAAQE,GAAU,CACxBA,EAAO,iBAAiB,QAASH,CAAU,CACnD,CAAO,EACD,MACD,CACDC,EAAQ,QAAQE,GAAU,CACxBA,EAAO,oBAAoB,QAASH,CAAU,CACpD,CAAK,EACL,EACEF,EAAY,iBAAiB,QAASE,CAAU,EAChDD,EAAa,iBAAiB,QAASC,CAAU,EACjD,OAAO,WAAW,oBAAoB,EAAE,iBAAiB,SAAU,GAAK,CACjE,EAAE,UACPH,EAAW,UAAU,OAAO,SAAS,EACrCC,EAAY,aAAa,gBAAiB,EAAK,EACnD,CAAG,EACD,SAAS,iBAAiB,aAAa,EAAE,QAAQM,GAAQ,CACvDA,EAAK,iBAAiB,QAAS,SAAUC,EAAG,CAC1CA,EAAE,eAAc,EAChB,IAAIC,EAAO,KAAK,aAAa,MAAM,EAAE,UAAU,CAAC,EAChD,MAAMC,EAAe,SAAS,eAAeD,CAAI,EAC3CE,EACJ,SAAS,cAAc,oBAAoB,EAAE,aAEzCC,EADkBF,EAAa,sBAAqB,EAAG,IACpBC,EACzC,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QAClB,CAAO,CACP,CAAK,CACL,CAAG,EAGD,MAAMC,EAAc,SAAS,eAAe,QAAQ,EAEpDA,EAAY,iBAAiB,SAAU,IAAM,CAC3C,SAAS,KAAK,UAAU,OAAO,YAAY,EAEvC,SAAS,KAAK,UAAU,SAAS,YAAY,EAC/C,aAAa,QAAQ,QAAS,MAAM,EAEpC,aAAa,QAAQ,QAAS,OAAO,CAE3C,CAAG,EAED,OAAO,iBAAiB,OAAQ,IAAM,CACjB,aAAa,QAAQ,OAAO,IAC5B,SACjB,SAAS,KAAK,UAAU,IAAI,YAAY,EACxCA,EAAY,QAAU,GAE5B,CAAG,CA8CH,ECxGAd,EAAY"}